<Window x:Class="TextLocator.AIPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TextLocator"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        mc:Ignorable="d"
        Title="TextLocator-AI Assistant" Height="900" Width="1600"
        WindowStartupLocation="CenterScreen" Background="White">
    <Grid Margin="40">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Background -->
        <Image Source="/Resource/74293af6-21c4-4821-ae9f-b0fa86995923.png"
               Stretch="Fill" Panel.ZIndex="-1" Opacity="0.2"
               Margin="-39,-40,-39,-40" Grid.RowSpan="2" />

        <!-- Welcome -->
        <TextBlock Text="Welcome to TextLocator" FontSize="55" FontWeight="Bold" Foreground="Black"
                   HorizontalAlignment="Center" Margin="0,130,0,0" VerticalAlignment="Top"/>
        <TextBlock Text="AI-powered semantic search for your documents" FontSize="20" FontWeight="Bold"
                   Foreground="Gray" HorizontalAlignment="Center" Margin="0,230,0,0" VerticalAlignment="Top"/>

        <!-- input box + cleean button + search button -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border BorderThickness="3" BorderBrush="gray" CornerRadius="8">
                <TextBox x:Name="CommandInput" Width="800" Height="50" FontSize="14"
                         VerticalContentAlignment="Center" Padding="10"
                         BorderThickness="0" BorderBrush="Transparent"
                         TextChanged="CommandInput_TextChanged"
                         PreviewKeyUp="CommandInput_PreviewKeyUp">
                    <TextBox.Resources>
                        <VisualBrush x:Key="HintText" TileMode="None" Opacity="0.5" Stretch="None" AlignmentX="Left">
                            <VisualBrush.Visual>
                                <TextBlock Text="Type what you're looking for..." FontSize="14"/>
                            </VisualBrush.Visual>
                        </VisualBrush>
                    </TextBox.Resources>
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Style.Triggers>
                                <Trigger Property="Text" Value="{x:Null}">
                                    <Setter Property="Background" Value="{StaticResource HintText}"/>
                                </Trigger>
                                <Trigger Property="Text" Value="">
                                    <Setter Property="Background" Value="{StaticResource HintText}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </Border>

            <!-- clean button -->
            <Button x:Name="CleanButton" Content="X" Width="36" Height="36" Margin="-45,0,0,0"
                    Background="Red" Foreground="White"
                    Click="CleanButton_Click" Visibility="Hidden"/>

            <!-- microphone(speech recognition) -->
            <Button x:Name="MicButton" Width="40" Height="40" Background="#3A3A3A" BorderThickness="0" ToolTip="Voice Input" 
                    Click="BtnMic_Click" Margin="8,0,0,0">
                <!-- icon wrapped by Button.Content -->
                <Button.Content>
                    <iconPacks:PackIconFontAwesome Kind="MicrophoneSolid"
                                       Foreground="White"
                                       Width="20" Height="20"/>
                </Button.Content>
            </Button>

            <!-- Search button -->
            <Button x:Name="SearchButton" Width="40" Height="40" Background="#3A3A3A" BorderThickness="0" ToolTip="Search" Margin="8,0,0,0"
        Click="SearchButton_Click">
                <iconPacks:PackIconFontAwesome Kind="SearchSolid" Foreground="White" Width="20" Height="20"/>
            </Button>

        </StackPanel>

        <!-- search area -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,0" VerticalAlignment="Center">
            <!-- label -->
            <TextBlock Text="Search Area:" FontSize="16"
               VerticalAlignment="Center" 
               Margin="0,0,10,0"
               Background="Transparent" Foreground="Black"/>

            <!-- input box wraped by Border to add CornerRadius -->
            <Border BorderThickness="2" BorderBrush="Gray" CornerRadius="6" Background="Transparent">
                <TextBox x:Name="EnableAreaInfos"
                 Text="Default Area"
                 FontSize="16"
                 Height="40" Width="400"
                 IsReadOnly="True"
                 Background="Transparent"
                 Foreground="Gray"
                 BorderThickness="0"
                 VerticalContentAlignment="Center"
                 HorizontalContentAlignment="Left"
                 MouseDoubleClick="AreaInfos_MouseDoubleClick"/>
            </Border>
        </StackPanel>


        <!-- return to classic search page -->
        <Button Grid.Row="1" Content="Go to Classic Search" Width="180" Height="40"
                HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,20,0,0"
                Click="EnterFileSearch_Click" Background="#007ACC"
                Foreground="White" FontWeight="SemiBold"/>
    </Grid>
</Window>
